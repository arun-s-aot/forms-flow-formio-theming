{% if (ctx.prefix || ctx.suffix) { %}
<div class="input-group">
{% } %}
{% if (ctx.prefix) { %}
<div class="input-group-prepend" ref="prefix">
  <span class="input-group-text">
    {% if (ctx.prefix instanceof HTMLElement) { %}
      {{ ctx.t(ctx.prefix.outerHTML) }}
    {% } else { %}
      {{ ctx.t(ctx.prefix) }}
    {% } %}
  </span>
</div>
{% } %}
{% if (!ctx.component.editor && !ctx.component.wysiwyg) { %}
<{{ctx.input.type}}
  class="formsflow-{{ctx.input.type === 'textarea' ? 'textarea' : 'input'}} maxw-full"
  ref="{{ctx.input.ref || 'input'}}"
  {% for (var attr in ctx.input.attr) { %}
  {{attr}}="{{ctx.input.attr[attr]}}"
  {% } %}
  id="{{ctx.instance.id}}-{{ctx.component.key}}"
  aria-labelledby="l-{{ctx.instance.id}}-{{ctx.component.key}} {% if (ctx.component.description) { %}d-{{ctx.instance.id}}-{{ctx.component.key}}{% } %}"
  aria-required="{{ctx.input.ref === 'input' || !ctx.input.ref ? ctx.component.validate.required : ctx.component.fields[ctx.input.ref].required}}"
>{{ctx.input.content}}</{{ctx.input.type}}>
{% } %}
{% if (ctx.component.editor || ctx.component.wysiwyg) { %}
<div ref="input"></div>
{% } %}
{% if (ctx.component.type === 'datetime') { %}
<span aria-live="assertive" id="{{ctx.instance.id}}-liveRegion" class="formsflow-sr-only" ref="liveRegion"></span>
{% } %}
{% if (ctx.suffix) { %}
<div class="input-group-append" ref="suffix">
  <span class="input-group-text">
    {% if (ctx.suffix instanceof HTMLElement) { %}
      {{ ctx.t(ctx.suffix.outerHTML) }}
    {% } else { %}
      {{ ctx.t(ctx.suffix) }}
    {% } %}
  </span>
</div>
{% } %}
{% if (ctx.prefix || ctx.suffix) { %}
</div>
{% } %}
{% if (ctx.component.showCharCount || ctx.component.showWordCount) { %}
<div class="{{ctx.component.description ? 'pull-right' : 'text-right'}}">
  {% if (ctx.component.showCharCount) { %}
  <span aria-live="polite" class="text-muted" ref="charcount"></span>
  {% } %}
  {% if (ctx.component.showWordCount) { %}
  <span aria-live="polite" class="text-muted" ref="wordcount"></span>
  {% } %}
</div>
{% } %}
